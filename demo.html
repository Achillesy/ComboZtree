<!-- Created by Achilles on 2017/11/18. -->
<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>ComboZtree Demo</title>
		<!-- jQuery -->
		<script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script>
		<!-- Bootstrap -->
		<link rel="stylesheet" href="https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css" />
		<link rel="stylesheet" href="https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" />
		<script src="https://cdn.bootcss.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
		<!-- v3.bootcss.com -->
		<link rel="stylesheet" href="docs.min.css" />
		<!-- zTree -->
		<link rel="stylesheet" href="https://cdn.bootcss.com/zTree.v3/3.5.29/css/metroStyle/metroStyle.min.css" />
		<script src="https://cdn.bootcss.com/zTree.v3/3.5.29/js/jquery.ztree.core.min.js"></script>
		<script src="https://cdn.bootcss.com/zTree.v3/3.5.29/js/jquery.ztree.excheck.min.js"></script>
		<!-- Prettify -->
		<script src="run_prettify.min.js"></script>
		<!-- ComboZtree -->
		<script src="dist/comboztree.min.js"></script>
	</head>

	<body>
		<div class="bs-docs-header" id="content" tabindex="-1">
			<div class="container">
				<h1>ComboZtree Demo</h1>
				<p>一个把 Bootstrap 按钮下拉菜单和 zTree 组合起来，实现类似 EasyUI Combotree 功能的 js 插件。</p>
			</div>
		</div>
		<div class="container bs-docs-container">
			<div class="row">
				<div class="col-sm-4" role="complementary">
					<nav class="bs-docs-sidebar hidden-print hidden-xs affix-top" id="examlist">
						<ul class="nav bs-docs-sidenav">
							<li>
								<a href="#example1">单选下拉框 czt1</a>
								<input class="form-control comboztree" id="czt1" name="czt1" type="text" />
							</li>
							<li>
								<a href="#example2">多选下拉框 czt2</a>
								<input class="form-control comboztree multiselect" id="czt2" name="czt2" type="text" />
							</li>
							<li>
								<a href="#enabledisable">启用/禁用</a>
								<button id="enableczt1" class="btn btn-success">启用 czt1</button>
								<button id="disableczt1" class="btn btn-danger">禁用 czt1</button>
							</li>
							<li>
								<a href="#setvalue">赋值</a>
								<button id="setvalueczt1" class="btn btn-info">czt1 赋值</button>
								<button id="setvalueczt2" class="btn btn-info">czt2 赋多值</button>
							</li>
							<li>
								<a href="#setvalue">取值</a>
								<button id="getvalueczt1" class="btn btn-primary">czt1 取值</button>
								<button id="getvalueczt2" class="btn btn-primary">czt2 取值</button>
							</li>
							<li>
								<a href="#jsondata">JSON 数据格式</a>
							</li>
						</ul>
						<a class="back-to-top" href="#content">
							返回顶部
						</a>
					</nav>
				</div>
				<div class="col-sm-8" role="main">
					<div class="bs-docs-section">
						<h1 id="example1">单选下拉框</h1>
						<p>Step 1. 定义一个<code>class="comboztree"</code>的输入框</p>
						<pre class="prettyprint lang-html">
&lt;input class="form-control comboztree" id="czt1" name="czt1" type="text" /&gt;
						</pre>
						<p>Step 2. 下拉框的
							<a href="#jsondata">JSON 数据</a>，见页末</p>
						<p>Step 3. 文档加载完成<code>$(document).ready</code>以后，执行:</p>
						<pre class="prettyprint lang-js">
$("#czt1").ComboZtree('init', {}, zNodes);
						</pre>
					</div>
					<div class="bs-docs-section">
						<h1 id="example2">多选下拉框</h1>
						<p>Step 1. 追加<code>class="multiselect"</code>属性</p>
						<pre class="prettyprint lang-html">
&lt;input class="form-control comboztree multiselect" id="czt2" name="czt2" type="text" /&gt;
						</pre>
						<p>Step 2. 下拉框的
							<a href="#jsondata">JSON 数据</a>，见页末</p>
						<p>Step 3. 文档加载完成<code>$(document).ready</code>以后，执行:</p>
						<pre class="prettyprint lang-js">
$("#czt2").ComboZtree('init', {}, zNodes);
						</pre>
					</div>
					<div class="bs-docs-section">
						<h1 id="enabledisable">启用/禁用</h1>
						<p>修改下拉按钮的属性即可</p>
						<p>启用</p>
						<pre class="prettyprint lang-js">
$("#czt1").ComboZtree("disabled", false);
						</pre>
						<p>禁用</p>
						<pre class="prettyprint lang-js">
$("#czt1").ComboZtree("disabled", true);
						</pre>
					</div>
					<div class="bs-docs-section">
						<h1 id="setvalue">赋值</h1>
						<p>单选</p>
						<pre class="prettyprint lang-js">
$("#czt1").ComboZtree("setValue", "1");
						</pre>
						<p>多选</p>
						<pre class="prettyprint lang-js">
$("#czt2").ComboZtree("setValues", ["1","111","1121"]);
						</pre>
					</div>
					<div class="bs-docs-section">
						<h1 id="setvalue">取值</h1>
						<p>单选</p>
						<pre class="prettyprint lang-js">
$("#czt1").ComboZtree("getValue", "1");
						</pre>
						<p>多选</p>
						<pre class="prettyprint lang-js">
$("#czt2").ComboZtree("getValues");
						</pre>
					</div>
					<div class="bs-docs-section">
						<h1 id="jsondata">JSON 数据格式</h1>
						<p>实际上下拉框的内容都来自于 zTree，所以请参考 zTree 文档</p>
						<pre class="prettyprint lang-js">
var zNodes = [{
	"id": "1",
	"index": "1",
	"name": "顶级",
	"pid": "",
	"open": true,
	"isParent": true,
	"children": [{
		"id": "11",
		"index": "11",
		"name": "一级",
		"pid": "1",
		"open": true,
		"isParent": true,
		"children": [{
			"id": "111",
			"index": "111",
			"name": "111",
			"pid": "11",
			"open": false,
			"isParent": false,
			"children": null
			}, {
			"id": "112",
			"index": "112",
			"name": "112",
			"pid": "11",
			"open": false,
			"isParent": true,
			"children": [{
				"id": "1121",
				"index": "1121",
				"name": "1121",
				"pid": "112",
				"open": false,
				"isParent": false,
				"children": null
				}]
			}, {
			"id": "113",
			"index": "113",
			"name": "113",
			"pid": "11",
			"open": false,
			"isParent": false,
			"children": null
		}]
	}]
}]
						</pre>
					</div>
				</div>
			</div>
		</div>
		<footer class="bs-docs-footer">
			<div class="container">
				<ul class="bs-docs-footer-links">
					<li>
						<a href="http://v3.bootcss.com/" target="_blank">Bootstrap</a>
					</li>
					<li>
						<a href="http://www.treejs.cn/v3/main.php#_zTreeInfo" target="_blank">zTree</a>
					</li>
					<li>
						<a href="https://github.com/Achillesy/ComboZtree">GitHub 仓库</a>
					</li>
					<li>
						<a href="http://www.jeasyui.net/plugins/170.html" target="_blank">EasyUI</a>
					</li>
				</ul>
				<p>本文档及代码灵感来源于 Bootstrap 及 zTree 的组合使用，一切版权及荣耀归于以上开源软件的大神！</p>
				<p>一切失误及 bug 归于
					<a href="mailto:Achillesy@msn.com">Achilles Newman</a>
				</p>
			</div>
		</footer>
		<script type="text/javascript">
			var zNodes = [{
				"id": "1",
				"index": "1",
				"name": "顶级",
				"pid": "",
				"open": true,
				"isParent": true,
				"children": [{
					"id": "11",
					"index": "11",
					"name": "一级",
					"pid": "1",
					"open": true,
					"isParent": true,
					"children": [{
						"id": "111",
						"index": "111",
						"name": "111",
						"pid": "11",
						"open": false,
						"isParent": false,
						"children": null
					}, {
						"id": "112",
						"index": "112",
						"name": "112",
						"pid": "11",
						"open": false,
						"isParent": true,
						"children": [{
							"id": "1121",
							"index": "1121",
							"name": "1121",
							"pid": "112",
							"open": false,
							"isParent": false,
							"children": null
						}]
					}, {
						"id": "113",
						"index": "113",
						"name": "113",
						"pid": "11",
						"open": false,
						"isParent": false,
						"children": null
					}]
				}]
			}]

			var multiSetting = {

			};

			$(document).ready(function() {
				$("#czt1").ComboZtree('init', {}, zNodes);
				$("#czt2").ComboZtree('init', {}, zNodes);
				$("#enableczt1").click(function() {
					$("#czt1").ComboZtree("disabled", false);
				});
				$("#disableczt1").click(function() {
					$("#czt1").ComboZtree("disabled", true);
				});
				$("#setvalueczt1").click(function() {
					$("#czt1").ComboZtree("setValue", "1");
				});
				$("#setvalueczt2").click(function() {
					$("#czt2").ComboZtree("setValues", ["1", "111", "1121"]);
				});
				$("#getvalueczt1").click(function() {
					alert($("#czt1").ComboZtree("getValue"));
				});
				$("#getvalueczt2").click(function() {
					alert($("#czt2").ComboZtree("getValues"));
				});
				$("#MultiCZT").ComboZtree('init', multiSetting, zNodes);
				$("#examlist").smartFloat();
			});
			$.fn.smartFloat = function() {
				var position = function(element) {
					var top = element.position().top,
						width = element.width();
					pos = element.css("position");
					$(window).scroll(function() {
						var scrolls = $(this).scrollTop();
						if(scrolls > (top + 256)) {
							if(window.XMLHttpRequest) {
								element.css({
									position: "fixed",
									top: 0,
									width: width
								});
							} else {
								element.css({
									top: scrolls,
									width: width
								});
							}
						} else {
							element.css({
								position: pos,
								top: top
							});
						}
					});
				};
				return $(this).each(function() {
					position($(this));
				});
			};
		</script>
	</body>

</html>